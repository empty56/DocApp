<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>Document Checker</title>
    <link rel="stylesheet" href="{% static 'FormatChecker/css/style.css' %}">
</head>
    <body>
        <div class="container">
        <h1>Document Format & Grammar Checker</h1>

        <form id="doc-check-form" method="POST" enctype="multipart/form-data" action="{% url 'check_document' %}">
            {% csrf_token %}

            <label for="document">Upload Document:</label>
            <input type="file" name="document" id="document" required><br><br>

            <label for="document_part">Select Document Part:</label>
            <select name="document_part" id="document_part" required>
                <option value="tech_assignment">Технічне завдання</option>
                <option value="main_part">Пояснювальна записка</option>
                <option value="testing_methodology">Методологія тестування</option>
                <option value="user_manual">Керівництво користувача</option>
            </select><br><br>

            <input type="checkbox" id="formatting_check" name="formatting_check" checked>
            <label for="formatting_check">Check Formatting</label><br>

            <input type="checkbox" id="grammar_check" name="grammar_check">
            <label for="grammar_check">Check Grammar (AI)</label><br><br>

            <!-- Grammar Exceptions -->
            <div id="exception-section">
                <label for="exception_input">Words to ignore (comma-separated):</label><br>
                <textarea id="exception_input" placeholder="e.g. word1, word2"></textarea><br>
                <button type="button" id="add_exception">Add Words</button>

                <div id="exception-words"></div>
            </div>

            <br><button type="submit">Check Document</button>
        </form>

        <p id="loading">Checking document, please wait...</p>
        <div id="result" style="white-space: pre-wrap; margin-top: 20px;"></div>
        <button id="download-btn" style="display: none;">Download Results</button>

        <script src="{% static 'FormatChecker/js/check_document.js' %}"></script>
        </div>
    </body>
</html>
